{"remainingRequest":"/home/bohdan/Стільниця/kpp/kpp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/bohdan/Стільниця/kpp/kpp/src/components/Views/Blog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/bohdan/Стільниця/kpp/kpp/src/components/Views/Blog.vue","mtime":1623506039049},{"path":"/home/bohdan/Стільниця/kpp/kpp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/bohdan/Стільниця/kpp/kpp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/bohdan/Стільниця/kpp/kpp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/bohdan/Стільниця/kpp/kpp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCbG9nTGlzdCBmcm9tICcuLi9CbG9nTGlzdCcKaW1wb3J0IGFkZEJsb2cgZnJvbSAnLi4vQWRkQmxvZycKaW1wb3J0IEVkaXQgZnJvbSAnLi9FZGl0JwppbXBvcnQgVVJMIGZyb20gJy4uL1VSTC9VUkwnCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCl7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgYmxvZ3M6W10sCiAgICAgICAgICAgIGxvYWRpbmc6dHJ1ZSwKICAgICAgICAgICAgZWRpdDpmYWxzZSwKICAgICAgICAgICAgbWVzc2FnZTonJywKICAgICAgICAgICAgaWQ6JycKICAgICAgICB9CiAgfSwKICBjb21wdXRlZDp7CiAgfSwKICBtb3VudGVkKCl7CiAgICAgIGZldGNoKFVSTCsnZ2V0QmxvZycpCiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkKICAgICAgLnRoZW4oanNvbj0+ewogICAgICAgICAgdGhpcy5ibG9ncz1qc29uLmJsb2cKICAgICAgICAgIGNvbnNvbGUubG9nKGpzb24pCiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICB9KQogICAgICAKICB9LAogIGNvbXBvbmVudHM6IHsKICAgQmxvZ0xpc3QsCiAgIGFkZEJsb2csCiAgIEVkaXQKICB9LAogIG1ldGhvZHM6ewogICAgcmVtb3ZlQmxvZyhfaWQpewogICAgICB0aGlzLmJsb2dzID0gdGhpcy5ibG9ncy5maWx0ZXIodD0+dC5faWQgIT09X2lkKQogICAgfSwKICAgIGFkZEJsb2coYmxvZ3MpewogICAgICB0aGlzLmJsb2dzLnB1c2goYmxvZ3MpCiAgICB9LAogICAgZWRpdGJCbG9nKGlkLG1lc3NhZ2UpewogICAgICBpZihtZXNzYWdlKXsKICAgICAgICB0aGlzLm1lc3NhZ2U9bWVzc2FnZQogICAgICB9CiAgICAgIHRoaXMuaWQ9aWQKICAgICAgdGhpcy5lZGl0PXRydWUKICAgIH0sCiAgICBjbG9zZUVkaXRCbG9nZShib29sLG1lcyl7CiAgICAgICB0aGlzLmJsb2dzID0gdGhpcy5ibG9ncy5tYXAodD0+ewogICAgICAgIGlmKHQuX2lkPT09dGhpcy5pZCl7CiAgICAgICAgICBmZXRjaChVUkwrJ1VwRGF0ZUJsb2cvJyt0aGlzLmlkLHsKICAgICAgICAgICAgbWV0aG9kOidQVVQnLAogICAgICAgICAgICBoZWFkZXJzOnsKICAgICAgICAgICAgJ0FjY2VwdCc6J2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgICAnQ29udGVudC1UeXBlJzonYXBwbGljYXRpb24vanNvbicKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYm9keTpKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgbWVzc2FnZTogbWVzCiAgICAgICAgICAgICAgfSkKICAgICAgICAgIH0pCiAgICAgICAgICByZXR1cm4geyAgCiAgICAgICAgICAgIC4uLnQsCiAgICAgICAgICAgIG1lc3NhZ2U6IG1lcwogICAgICAgICAgfSAgCiAgICAgICAgfQogICAgICAgIHJldHVybiB0OwogICAgICB9KQogICAgICB0aGlzLmVkaXQ9Ym9vbAogICAgfSwKICAgIGNsb3NlQmxvZ2UoYm9vbCl7CiAgICAgIHRoaXMuZWRpdD1ib29sCiAgICAgIHRoaXMubWVzc2FnZQogICAgfQogIH0KfQo="},{"version":3,"sources":["Blog.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Blog.vue","sourceRoot":"src/components/Views","sourcesContent":["<template>\n  <div >\n    <addBlog @add-blog=\"addBlog\"/>\n    <BlogList  v-if=\"blogs.length\" v-bind:blogs=\"blogs\" @edit-blog=\"editbBlog\"  @remove-blog=\"removeBlog\"/>\n    <p v-else>No message...</p>\n    <Edit v-if=\"edit\" @edit-close=\"closeBloge\" @edit=\"closeEditBloge\" v-bind:message=\"message\"/>\n  </div>\n</template>\n<script>\nimport BlogList from '../BlogList'\nimport addBlog from '../AddBlog'\nimport Edit from './Edit'\nimport URL from '../URL/URL'\nexport default {\n  data(){\n        return {\n            blogs:[],\n            loading:true,\n            edit:false,\n            message:'',\n            id:''\n        }\n  },\n  computed:{\n  },\n  mounted(){\n      fetch(URL+'getBlog')\n      .then(response => response.json())\n      .then(json=>{\n          this.blogs=json.blog\n          console.log(json)\n          this.loading = false\n      })\n      \n  },\n  components: {\n   BlogList,\n   addBlog,\n   Edit\n  },\n  methods:{\n    removeBlog(_id){\n      this.blogs = this.blogs.filter(t=>t._id !==_id)\n    },\n    addBlog(blogs){\n      this.blogs.push(blogs)\n    },\n    editbBlog(id,message){\n      if(message){\n        this.message=message\n      }\n      this.id=id\n      this.edit=true\n    },\n    closeEditBloge(bool,mes){\n       this.blogs = this.blogs.map(t=>{\n        if(t._id===this.id){\n          fetch(URL+'UpDateBlog/'+this.id,{\n            method:'PUT',\n            headers:{\n            'Accept':'application/json',\n            'Content-Type':'application/json'\n            },\n            body:JSON.stringify({\n              message: mes\n              })\n          })\n          return {  \n            ...t,\n            message: mes\n          }  \n        }\n        return t;\n      })\n      this.edit=bool\n    },\n    closeBloge(bool){\n      this.edit=bool\n      this.message\n    }\n  }\n}\n</script>\n\n"]}]}